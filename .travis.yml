os:
  - osx
sudo: required
language: rust
rust:
  - stable
install:
  - brew update
  - brew install haskell-stack
  - brew install llvm

script:
  - sudo launchctl load -w /System/Library/LaunchDaemons/com.apple.locate.plist
  - ./configure
  - make
  - make test

cache:
  directories:
  - ./rust-bindgen
  - ./frontend/.stack-work/install
  - $HOME/.stack
